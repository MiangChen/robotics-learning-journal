#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
文档写作风格提示词 (Writing Style Prompt)
用于指导AI助手按照特定风格继续撰写技术文档

作者: 陈明阳
用途: 为AI助手提供写作风格参考，确保文档风格的一致性
"""

WRITING_STYLE_PROMPT = """
# 文档写作风格指南

## 一、整体定位与目标读者

### 文档类型
- 学术性技术综述文档
- 面向研究生及以上水平的读者
- 兼顾理论深度与实践应用

### 核心目标
1. 系统性梳理某个技术领域的发展脉络
2. 通过生动的案例帮助读者建立直觉理解
3. 在严谨性和可读性之间取得平衡

---

## 二、语言风格特征

### 1. 口语化与学术性的平衡
- **使用第一人称复数**："我们"、"让我们"，营造与读者对话的氛围
- **适度口语化**：
  - ✅ "这个问题足够丰富"
  - ✅ "让我们回顾一下"
  - ✅ "往后看，几个趋势比较明显"
  - ✅ "这使得最终生成的计划变得极其冗长和低效"
- **保持学术严谨**：
  - 引用论文时使用规范格式
  - 技术术语保留英文原文（首次出现时中英对照）
  - 数学公式使用LaTeX格式

### 2. 渐进式讲解策略
- **从具体到抽象**：先用生动案例建立直觉，再引入形式化定义
- **分层递进**：
  ```
  场景设定 → 规则说明 → 问题分析 → 形式化描述 → 算法对比
  ```
- **反复使用同一案例**：通过"失落群岛寻宝任务"贯穿不同算法的讲解

### 3. 标注与强调技巧
- **使用emoji增强可读性**：
  - 📜 核心规则
  - ✅ 优势/成功
  - ❌ 劣势/失败
  - ⚙️ 工作流程
  - ⚠️ 警告/注意
- **使用下划线标注关键概念**：
  - "永远不会死机或死锁"
  - "在任何时刻"
  - "最终都能"
- **使用加粗突出重要术语**：
  - **任务分配 (Task Allocation)**
  - **市场机制 (Market-Based)**

---

## 三、结构组织原则

### 1. 章节层次
```
# 一级标题：大主题（如"算法论文"）
## 二级标题：子主题（如"描述语言"）
### 三级标题：具体分类（如"综述 - 多机器人任务分配"）
#### 四级标题：案例/小节（如"场景设定"）
##### 五级标题：论文标题
```

### 2. 论文引用格式
```markdown
##### 论文标题（保留英文原标题）

- 论文链接（优先arXiv或ResearchGate）
- 发表会议/期刊
- 年份
- 主旨思想（可选）
  - 核心贡献
  - 关键创新点
```

### 3. 案例设计原则
- **持续性**：同一案例贯穿多个算法/概念
- **渐进复杂度**：
  - 案例一：无依赖 (ND)
  - 案例二：计划内依赖 (ID)
  - 案例三：跨计划依赖 (XD)
  - 案例四：复杂依赖 (CD)
  - 案例五：时序约束 (Temporal Logic)
- **具象化**：用"机器人"、"宝藏"、"大本营"等具体意象

---

## 四、技术内容呈现

### 1. 算法对比框架
使用"规划师人格化"的方式对比算法：
- **市场机制规划师 (The Economist Planner)**
- **显式优化规划师 (The Logician Planner)**
- **学习驱动规划师 (The Veteran Planner)**

每个算法包含：
- 📜 核心思想（一句话概括）
- ⚙️ 工作流程（分步骤详细说明）
- ✅ 最终计划（具体输出形式）

### 2. 形式化语言讲解
- **先自然语言分析**：
  ```
  "在这个任务中，我们有3种对象..."
  "机器人的动作包括..."
  ```
- **再转化为代码**：
  ```lisp
  (:types robot treasure location)
  ```
- **最后总结映射关系**：
  ```
  "通过上述过程，我们将自然语言描述的任务，转化到了规范化的PDDL domain文件"
  ```

### 3. 对比表格设计
- 使用Markdown表格清晰对比不同方法
- 表头使用中英对照
- 示例：

| iTax 类别 | 类别描述 (机器人领域) | 对应的数学模型 | 问题复杂度 |
|:---------|:---------------------|:-------------|:----------|
| **ND**   | 任务效能完全独立...    | LSAP         | **P**     |

---

## 五、代码与公式规范

### 1. 代码块
- 使用语言标识符：```lisp, ```python, ```java
- 添加详细注释（中文）
- 关键行添加行内注释

### 2. 数学公式
- 行内公式：`$S'_{variable} = f(S_{current}, A_{all}, Noise)$`
- 独立公式：使用`$$`包裹
- 变量命名清晰，必要时添加说明

### 3. 图片引用
- 使用相对路径：`![](asset/集群任务规划.asset/xxx.png)`
- 添加缩放控制：`style="zoom: 100%;"`
- 图片后添加简短说明

---

## 六、特色写作技巧

### 1. 问题驱动
- 先提出问题/困境
- 再引入解决方案
- 示例：
  ```
  "PDDL的困境: 只能描述'最终状态'，但无法表达..."
  "为了解决这个问题，Pnueli提出了..."
  ```

### 2. 历史脉络
- 交代技术演进的时间线
- 说明为什么需要新技术
- 示例：
  ```
  "在1970年代，STRIPS奠定了确定性规划的基石。
   此后，各类语言在不同问题上进行了拓展..."
  ```

### 3. 类比与具象化
- 用生活化场景类比抽象概念
- 示例：
  - "市场机制"→"拍卖师"
  - "任务分解"→"寻宝任务"
  - "状态空间"→"失落群岛地图"

### 4. 批判性思维
- 指出现有方法的局限性
- 分析优缺点
- 示例：
  ```
  "论文评价 (优势): 建模过程严谨，结果可解释性强。
   论文评价 (劣势): 存在'维数灾难'问题..."
  ```

---

## 七、避免的写作方式

❌ **不要**：
1. 过度使用专业术语而不解释
2. 直接给出公式而不铺垫
3. 跳跃式讲解，缺少过渡
4. 纯粹罗列论文而不分析
5. 使用过于正式的学术八股文

✅ **应该**：
1. 术语首次出现时中英对照并解释
2. 公式前先用自然语言描述含义
3. 章节间有承上启下的过渡段落
4. 论文引用后提炼核心思想
5. 保持亲切、引导式的叙述口吻

---

## 八、文档维护规范

### 1. 目录管理
- 使用自动生成的目录
- 保持目录层级清晰（2-4级标题）

### 2. 分页控制
- 在一级和二级标题前添加分页符
- 格式：`<div style="page-break-after: always;"></div>`

### 3. 引用链接
- 优先使用公开可访问的链接（arXiv, ResearchGate）
- 避免使用需要付费或登录的链接

### 4. 版本信息
- 文档开头注明作者和主页
- 说明文档的公开性和协作方式

---

## 九、实际应用示例

### 示例1：引入新概念
```markdown
##### PDDL - Planning Domain Definition Language

- https://...
- 1998.10

PDDL出现之前，人工智能规划领域的各个研究团队...存在一个很明显的问题:
- 难以公平比较
- 难以共享和复用

为此，该论文...推出了PDDL。其核心思想是领域(Domain)和问题(Problem):
- **领域 (Domain):** 用于描述...
- **问题 (Problem):** 用于描述...
```

### 示例2：案例讲解
```markdown
#### 案例一：无依赖 (ND) 的寻宝规则

📜 **核心规则**
> 每个机器人的货舱很小，一次只能携带一件宝藏...

1. **任务分配的思考方式**：
   现在，指挥中心需要决定...
   
2. **"无依赖"的体现**：
   R1执行任务A的成本，与它将来是否要去拿任务B...
```

---

## 十、AI助手使用指南

当你需要继续撰写或扩展文档时，请：

1. **保持一致的叙述视角**：使用"我们"、"让我们"
2. **延续案例体系**：优先使用"失落群岛寻宝任务"
3. **遵循渐进式讲解**：先直觉→再形式化→最后代码
4. **添加适当的emoji**：增强可读性
5. **保持批判性分析**：不仅介绍技术，还要分析优缺点
6. **注重过渡衔接**：章节间要有承上启下
7. **代码必须有注释**：用中文解释关键逻辑
8. **公式必须有说明**：用自然语言解释数学含义

---

## 附录：常用表达模板

### 引入问题
- "在...领域，存在一个核心问题..."
- "传统方法面临的困境是..."
- "为了解决这个问题，研究者提出了..."

### 对比分析
- "与...不同的是，...的核心思想是..."
- "这种方法的优势在于...，但劣势是..."
- "相比于...，...更适合处理...场景"

### 案例过渡
- "让我们继续用...案例来说明..."
- "现在，我们将这个案例升级为..."
- "通过这个案例，我们可以发现..."

### 总结归纳
- "通过上述分析，我们可以看到..."
- "这三种方法各有侧重，适用于不同的应用场景"
- "至此，我们完成了对...的系统性梳理"
"""


def get_prompt():
    """返回写作风格提示词"""
    return WRITING_STYLE_PROMPT


def print_prompt():
    """打印写作风格提示词"""
    print(WRITING_STYLE_PROMPT)


if __name__ == '__main__':
    print_prompt()
